{
    "nbformat_minor": 1, 
    "cells": [
        {
            "source": "## Segmentation and Clustering_ Part 3", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "from bs4 import BeautifulSoup\nimport requests\n\nurl=\"https://en.wikipedia.org/wiki/List_of_postal_codes_of_Canada:_M\"\nr = requests.get(url)\nsoup = BeautifulSoup(r.text, 'html.parser')  \n\n\n\ndatasoup = soup.find('table')\n#print(datasoup)\n\n", 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "execution_count": 1
        }, 
        {
            "source": "type(datasoup)", 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "data": {
                        "text/plain": "bs4.element.Tag"
                    }, 
                    "execution_count": 2, 
                    "metadata": {}
                }
            ], 
            "execution_count": 2
        }, 
        {
            "source": "## Data Scraping", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "  \nBorough=[]   \nNeighborhood=[]\nPostalcode=[]\n    \nfor row in datasoup.find_all('tr'):\n     for cell in row.find_all('td'):\n            if (cell.find('i') ):\n                continue\n            postalcode=cell.find('b').text\n            Postalcode.append(postalcode)\n            bor=cell.find('span').text.split(\"\\n\")[0]\n            Borough.append(bor)\n            neigh=cell.find('span').text.split(\"\\n\")[1:]\n            lastneigh = ','.join(map(str, neigh))\n            Neighborhood.append(lastneigh)                                  ", 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "execution_count": 3
        }, 
        {
            "source": "## Clear Data", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "clearneighborhood=[]\ncleanerneighborhood=[]\nbeautyneighborhood=[]\n\n#print(neighborhood)\n\nfor j in Neighborhood:\n        b=j.strip('()')\n        cleanerneighborhood.append(b)\n\n#print(cleanerneighborhood)\n\n\n\nfor j in cleanerneighborhood:\n        b=j.replace('/',',')\n        clearneighborhood.append(b)\n        \n        \nclearneighborhood[4]=clearneighborhood[4] +\"Queen's Park\"      \n#print(len(clearneighborhood))\n\n\nfor j in clearneighborhood:\n        b=j.replace('(','').replace(')','')\n        beautyneighborhood.append(b)\n\n\nprint(\"The length of Postalcode is : \" , len(Postalcode))\nprint(\"The length of Borough is : \", len(Borough))\nprint(\"The length of Neighborhood is : \" ,len(beautyneighborhood))\n", 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "The length of Postalcode is :  103\nThe length of Borough is :  103\nThe length of Neighborhood is :  103\n"
                }
            ], 
            "execution_count": 4
        }, 
        {
            "source": "## Create Dataframe", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "import pandas as pd \n\ndata_dict={'Postalcode': Postalcode , 'Borough': Borough ,'Neighborhood': beautyneighborhood }\n\ndf=pd.DataFrame(data_dict)\n\n", 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "execution_count": 5
        }, 
        {
            "source": "df = df[['Postalcode','Borough','Neighborhood']]\ndf\n", 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postalcode</th>\n      <th>Borough</th>\n      <th>Neighborhood</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>M3A</td>\n      <td>North York(Parkwoods)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>M4A</td>\n      <td>North York(Victoria Village)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>M5A</td>\n      <td>Downtown Toronto(Regent Park / Harbourfront)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>M6A</td>\n      <td>North York(Lawrence Manor / Lawrence Heights)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>M7A</td>\n      <td>Queen's Park</td>\n      <td>Queen's Park</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>M9A</td>\n      <td>Etobicoke(Islington Avenue)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>6</th>\n      <td>M1B</td>\n      <td>Scarborough(Malvern / Rouge)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>7</th>\n      <td>M3B</td>\n      <td>North York(Don Mills)North</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>M4B</td>\n      <td>East York(Parkview Hill / Woodbine Gardens)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>9</th>\n      <td>M5B</td>\n      <td>Downtown Toronto(Garden District, Ryerson)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>M6B</td>\n      <td>North York(Glencairn)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>11</th>\n      <td>M9B</td>\n      <td>Etobicoke(West Deane Park / Princess Gardens /...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>12</th>\n      <td>M1C</td>\n      <td>Scarborough(Rouge Hill / Port Union / Highland...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>M3C</td>\n      <td>North York(Don Mills)South(Flemingdon Park)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>M4C</td>\n      <td>East York(Woodbine Heights)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>M5C</td>\n      <td>Downtown Toronto(St. James Town)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>M6C</td>\n      <td>York(Humewood-Cedarvale)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>17</th>\n      <td>M9C</td>\n      <td>Etobicoke(Eringate / Bloordale Gardens / Old B...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>M1E</td>\n      <td>Scarborough(Guildwood / Morningside / West Hill)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>19</th>\n      <td>M4E</td>\n      <td>East Toronto(The Beaches)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>M5E</td>\n      <td>Downtown Toronto(Berczy Park)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>21</th>\n      <td>M6E</td>\n      <td>York(Caledonia-Fairbanks)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>22</th>\n      <td>M1G</td>\n      <td>Scarborough(Woburn)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>23</th>\n      <td>M4G</td>\n      <td>East York(Leaside)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>24</th>\n      <td>M5G</td>\n      <td>Downtown Toronto(Central Bay Street)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>25</th>\n      <td>M6G</td>\n      <td>Downtown Toronto(Christie)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>26</th>\n      <td>M1H</td>\n      <td>Scarborough(Cedarbrae)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>M2H</td>\n      <td>North York(Hillcrest Village)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>M3H</td>\n      <td>North York(Bathurst Manor / Wilson Heights / D...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>29</th>\n      <td>M4H</td>\n      <td>East York(Thorncliffe Park)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>73</th>\n      <td>M4R</td>\n      <td>Central Toronto(North Toronto West)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>74</th>\n      <td>M5R</td>\n      <td>Central Toronto(The Annex / North Midtown / Yo...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>75</th>\n      <td>M6R</td>\n      <td>West Toronto(Parkdale / Roncesvalles)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>76</th>\n      <td>M7R</td>\n      <td>MississaugaCanada Post Gateway Processing Cent...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>77</th>\n      <td>M9R</td>\n      <td>Etobicoke(Kingsview Village / St. Phillips / M...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>78</th>\n      <td>M1S</td>\n      <td>Scarborough(Agincourt)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>79</th>\n      <td>M4S</td>\n      <td>Central Toronto(Davisville)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>80</th>\n      <td>M5S</td>\n      <td>Downtown Toronto(University of Toronto / Harbord)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>81</th>\n      <td>M6S</td>\n      <td>West Toronto(Runnymede / Swansea)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>82</th>\n      <td>M1T</td>\n      <td>Scarborough(Clarks Corners / Tam O'Shanter / S...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>83</th>\n      <td>M4T</td>\n      <td>Central Toronto(Moore Park / Summerhill East)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>84</th>\n      <td>M5T</td>\n      <td>Downtown Toronto(Kensington Market / Chinatown...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>85</th>\n      <td>M1V</td>\n      <td>Scarborough(Milliken / Agincourt North / Steel...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>86</th>\n      <td>M4V</td>\n      <td>Central Toronto(Summerhill West / Rathnelly / ...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>87</th>\n      <td>M5V</td>\n      <td>Downtown Toronto(CN Tower / King and Spadina /...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>88</th>\n      <td>M8V</td>\n      <td>Etobicoke(New Toronto / Mimico South / Humber ...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>89</th>\n      <td>M9V</td>\n      <td>Etobicoke(South Steeles / Silverstone / Humber...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>90</th>\n      <td>M1W</td>\n      <td>Scarborough(Steeles West / L'Amoreaux West)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>91</th>\n      <td>M4W</td>\n      <td>Downtown Toronto(Rosedale)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>92</th>\n      <td>M5W</td>\n      <td>Downtown TorontoStn A PO Boxes25 The Esplanade...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>93</th>\n      <td>M8W</td>\n      <td>Etobicoke(Alderwood / Long Branch)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>94</th>\n      <td>M9W</td>\n      <td>EtobicokeNorthwest(Clairville / Humberwood / W...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>95</th>\n      <td>M1X</td>\n      <td>Scarborough(Upper Rouge)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>96</th>\n      <td>M4X</td>\n      <td>Downtown Toronto(St. James Town / Cabbagetown)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>97</th>\n      <td>M5X</td>\n      <td>Downtown Toronto(First Canadian Place / Underg...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>98</th>\n      <td>M8X</td>\n      <td>Etobicoke(The Kingsway / Montgomery Road / Old...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>99</th>\n      <td>M4Y</td>\n      <td>Downtown Toronto(Church and Wellesley)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>100</th>\n      <td>M7Y</td>\n      <td>East TorontoBusiness reply mail Processing Cen...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>101</th>\n      <td>M8Y</td>\n      <td>Etobicoke(Old Mill South / King's Mill Park / ...</td>\n      <td></td>\n    </tr>\n    <tr>\n      <th>102</th>\n      <td>M8Z</td>\n      <td>Etobicoke(Mimico NW / The Queensway West / Sou...</td>\n      <td></td>\n    </tr>\n  </tbody>\n</table>\n<p>103 rows \u00d7 3 columns</p>\n</div>", 
                        "text/plain": "    Postalcode                                            Borough  \\\n0          M3A                              North York(Parkwoods)   \n1          M4A                       North York(Victoria Village)   \n2          M5A       Downtown Toronto(Regent Park / Harbourfront)   \n3          M6A      North York(Lawrence Manor / Lawrence Heights)   \n4          M7A                                       Queen's Park   \n5          M9A                        Etobicoke(Islington Avenue)   \n6          M1B                       Scarborough(Malvern / Rouge)   \n7          M3B                         North York(Don Mills)North   \n8          M4B        East York(Parkview Hill / Woodbine Gardens)   \n9          M5B         Downtown Toronto(Garden District, Ryerson)   \n10         M6B                              North York(Glencairn)   \n11         M9B  Etobicoke(West Deane Park / Princess Gardens /...   \n12         M1C  Scarborough(Rouge Hill / Port Union / Highland...   \n13         M3C        North York(Don Mills)South(Flemingdon Park)   \n14         M4C                        East York(Woodbine Heights)   \n15         M5C                   Downtown Toronto(St. James Town)   \n16         M6C                           York(Humewood-Cedarvale)   \n17         M9C  Etobicoke(Eringate / Bloordale Gardens / Old B...   \n18         M1E   Scarborough(Guildwood / Morningside / West Hill)   \n19         M4E                          East Toronto(The Beaches)   \n20         M5E                      Downtown Toronto(Berczy Park)   \n21         M6E                          York(Caledonia-Fairbanks)   \n22         M1G                                Scarborough(Woburn)   \n23         M4G                                 East York(Leaside)   \n24         M5G               Downtown Toronto(Central Bay Street)   \n25         M6G                         Downtown Toronto(Christie)   \n26         M1H                             Scarborough(Cedarbrae)   \n27         M2H                      North York(Hillcrest Village)   \n28         M3H  North York(Bathurst Manor / Wilson Heights / D...   \n29         M4H                        East York(Thorncliffe Park)   \n..         ...                                                ...   \n73         M4R                Central Toronto(North Toronto West)   \n74         M5R  Central Toronto(The Annex / North Midtown / Yo...   \n75         M6R              West Toronto(Parkdale / Roncesvalles)   \n76         M7R  MississaugaCanada Post Gateway Processing Cent...   \n77         M9R  Etobicoke(Kingsview Village / St. Phillips / M...   \n78         M1S                            Scarborough(Agincourt)    \n79         M4S                        Central Toronto(Davisville)   \n80         M5S  Downtown Toronto(University of Toronto / Harbord)   \n81         M6S                  West Toronto(Runnymede / Swansea)   \n82         M1T  Scarborough(Clarks Corners / Tam O'Shanter / S...   \n83         M4T      Central Toronto(Moore Park / Summerhill East)   \n84         M5T  Downtown Toronto(Kensington Market / Chinatown...   \n85         M1V  Scarborough(Milliken / Agincourt North / Steel...   \n86         M4V  Central Toronto(Summerhill West / Rathnelly / ...   \n87         M5V  Downtown Toronto(CN Tower / King and Spadina /...   \n88         M8V  Etobicoke(New Toronto / Mimico South / Humber ...   \n89         M9V  Etobicoke(South Steeles / Silverstone / Humber...   \n90         M1W        Scarborough(Steeles West / L'Amoreaux West)   \n91         M4W                         Downtown Toronto(Rosedale)   \n92         M5W  Downtown TorontoStn A PO Boxes25 The Esplanade...   \n93         M8W                 Etobicoke(Alderwood / Long Branch)   \n94         M9W  EtobicokeNorthwest(Clairville / Humberwood / W...   \n95         M1X                           Scarborough(Upper Rouge)   \n96         M4X     Downtown Toronto(St. James Town / Cabbagetown)   \n97         M5X  Downtown Toronto(First Canadian Place / Underg...   \n98         M8X  Etobicoke(The Kingsway / Montgomery Road / Old...   \n99         M4Y             Downtown Toronto(Church and Wellesley)   \n100        M7Y  East TorontoBusiness reply mail Processing Cen...   \n101        M8Y  Etobicoke(Old Mill South / King's Mill Park / ...   \n102        M8Z  Etobicoke(Mimico NW / The Queensway West / Sou...   \n\n     Neighborhood  \n0                  \n1                  \n2                  \n3                  \n4    Queen's Park  \n5                  \n6                  \n7                  \n8                  \n9                  \n10                 \n11                 \n12                 \n13                 \n14                 \n15                 \n16                 \n17                 \n18                 \n19                 \n20                 \n21                 \n22                 \n23                 \n24                 \n25                 \n26                 \n27                 \n28                 \n29                 \n..            ...  \n73                 \n74                 \n75                 \n76                 \n77                 \n78                 \n79                 \n80                 \n81                 \n82                 \n83                 \n84                 \n85                 \n86                 \n87                 \n88                 \n89                 \n90                 \n91                 \n92                 \n93                 \n94                 \n95                 \n96                 \n97                 \n98                 \n99                 \n100                \n101                \n102                \n\n[103 rows x 3 columns]"
                    }, 
                    "execution_count": 6, 
                    "metadata": {}
                }
            ], 
            "execution_count": 6
        }, 
        {
            "source": "print(\"The size of the dataframe df is : \" , df.shape)", 
            "cell_type": "code", 
            "metadata": {
                "scrolled": true
            }, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "The size of the dataframe df is :  (103, 3)\n"
                }
            ], 
            "execution_count": 7
        }, 
        {
            "source": "#***********************************************************", 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "execution_count": 8
        }, 
        {
            "source": "## API Calls for Lat and Long\n", 
            "cell_type": "markdown", 
            "metadata": {}
        }, 
        {
            "source": "Latitude=[]\nLongitude=[]  \n# save your API key\nAPI_key='AIzaSyCfOyzyLzO3gYKwmxsmIBuPY8jPDjX-3vs'\n", 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "execution_count": 9
        }, 
        {
            "source": "for post in Postalcode:\n    # construct URL to make API call\n    url = 'https://maps.googleapis.com/maps/api/geocode/json?key={}&address={}'.format(API_key,post)\n    response = requests.get(url).json() # get response\n    if(len(response['results']) == 0 ):\n            latitude=\"\"\n            longitude=\"\"\n            Latitude.append(latitude)\n            Longitude.append(longitude)\n            continue\n    geographical_data = response['results'][0]['geometry']['location'] # get geographical coordinates\n    latitude = geographical_data['lat']\n    longitude = geographical_data['lng']\n    Latitude.append(latitude)\n    Longitude.append(longitude)", 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "execution_count": 10
        }, 
        {
            "source": "#Add Lat and Long to the dataframe\nLL = pd.DataFrame({'Latitude': Latitude ,'Longitude': Longitude})\ndf=df.join(LL)\n\n\n", 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [], 
            "execution_count": 11
        }, 
        {
            "source": "df_min=df.loc[df['Latitude'] != '']\ndf_min\n", 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "data": {
                        "text/html": "<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Postalcode</th>\n      <th>Borough</th>\n      <th>Neighborhood</th>\n      <th>Latitude</th>\n      <th>Longitude</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>M3A</td>\n      <td>North York(Parkwoods)</td>\n      <td></td>\n      <td>32.3636</td>\n      <td>-90.1524</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>M5A</td>\n      <td>Downtown Toronto(Regent Park / Harbourfront)</td>\n      <td></td>\n      <td>43.6543</td>\n      <td>-79.3606</td>\n    </tr>\n    <tr>\n      <th>8</th>\n      <td>M4B</td>\n      <td>East York(Parkview Hill / Woodbine Gardens)</td>\n      <td></td>\n      <td>43.7149</td>\n      <td>-79.3051</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>M3C</td>\n      <td>North York(Don Mills)South(Flemingdon Park)</td>\n      <td></td>\n      <td>45.5725</td>\n      <td>-73.414</td>\n    </tr>\n    <tr>\n      <th>14</th>\n      <td>M4C</td>\n      <td>East York(Woodbine Heights)</td>\n      <td></td>\n      <td>43.6846</td>\n      <td>-79.3188</td>\n    </tr>\n    <tr>\n      <th>18</th>\n      <td>M1E</td>\n      <td>Scarborough(Guildwood / Morningside / West Hill)</td>\n      <td></td>\n      <td>43.7636</td>\n      <td>-79.1887</td>\n    </tr>\n    <tr>\n      <th>20</th>\n      <td>M5E</td>\n      <td>Downtown Toronto(Berczy Park)</td>\n      <td></td>\n      <td>43.6448</td>\n      <td>-79.3733</td>\n    </tr>\n    <tr>\n      <th>27</th>\n      <td>M2H</td>\n      <td>North York(Hillcrest Village)</td>\n      <td></td>\n      <td>43.8037</td>\n      <td>-79.3719</td>\n    </tr>\n    <tr>\n      <th>28</th>\n      <td>M3H</td>\n      <td>North York(Bathurst Manor / Wilson Heights / D...</td>\n      <td></td>\n      <td>40.782</td>\n      <td>-74.1386</td>\n    </tr>\n    <tr>\n      <th>30</th>\n      <td>M5H</td>\n      <td>Downtown Toronto(Richmond / Adelaide / King)</td>\n      <td></td>\n      <td>43.6511</td>\n      <td>-79.3843</td>\n    </tr>\n    <tr>\n      <th>31</th>\n      <td>M6H</td>\n      <td>West Toronto(Dufferin / Dovercourt Village)</td>\n      <td></td>\n      <td>43.669</td>\n      <td>-79.4423</td>\n    </tr>\n    <tr>\n      <th>35</th>\n      <td>M4J</td>\n      <td>East YorkEast Toronto(The Danforth  East)</td>\n      <td></td>\n      <td>43.6825</td>\n      <td>-79.3281</td>\n    </tr>\n    <tr>\n      <th>36</th>\n      <td>M5J</td>\n      <td>Downtown Toronto(Harbourfront East / Union Sta...</td>\n      <td></td>\n      <td>43.6408</td>\n      <td>-79.3818</td>\n    </tr>\n    <tr>\n      <th>39</th>\n      <td>M2K</td>\n      <td>North York(Bayview Village)</td>\n      <td></td>\n      <td>41.6307</td>\n      <td>-93.7143</td>\n    </tr>\n    <tr>\n      <th>40</th>\n      <td>M3K</td>\n      <td>North York(Downsview)East  (CFB Toronto)</td>\n      <td></td>\n      <td>30.1212</td>\n      <td>-95.4403</td>\n    </tr>\n    <tr>\n      <th>43</th>\n      <td>M6K</td>\n      <td>West Toronto(Brockton / Parkdale Village / Exh...</td>\n      <td></td>\n      <td>43.6368</td>\n      <td>-79.4282</td>\n    </tr>\n    <tr>\n      <th>45</th>\n      <td>M2L</td>\n      <td>North York(York Mills / Silver Hills)</td>\n      <td></td>\n      <td>40.7459</td>\n      <td>-73.9839</td>\n    </tr>\n    <tr>\n      <th>46</th>\n      <td>M3L</td>\n      <td>North York(Downsview)West</td>\n      <td></td>\n      <td>39.0941</td>\n      <td>-76.9338</td>\n    </tr>\n    <tr>\n      <th>47</th>\n      <td>M4L</td>\n      <td>East Toronto(India Bazaar / The Beaches West)</td>\n      <td></td>\n      <td>40.2665</td>\n      <td>-76.7463</td>\n    </tr>\n    <tr>\n      <th>50</th>\n      <td>M9L</td>\n      <td>North York(Humber Summit)</td>\n      <td></td>\n      <td>43.7563</td>\n      <td>-79.566</td>\n    </tr>\n    <tr>\n      <th>51</th>\n      <td>M1M</td>\n      <td>Scarborough(Cliffside / Cliffcrest / Scarborou...</td>\n      <td></td>\n      <td>36.3252</td>\n      <td>-79.6888</td>\n    </tr>\n    <tr>\n      <th>52</th>\n      <td>M2M</td>\n      <td>North York(Willowdale / Newtonbrook)</td>\n      <td></td>\n      <td>40.7303</td>\n      <td>-73.9945</td>\n    </tr>\n    <tr>\n      <th>53</th>\n      <td>M3M</td>\n      <td>North York(Downsview)Central</td>\n      <td></td>\n      <td>43.7238</td>\n      <td>-79.4894</td>\n    </tr>\n    <tr>\n      <th>54</th>\n      <td>M4M</td>\n      <td>East Toronto(Studio District)</td>\n      <td></td>\n      <td>40.7379</td>\n      <td>-74.0002</td>\n    </tr>\n    <tr>\n      <th>57</th>\n      <td>M9M</td>\n      <td>North York(Humberlea / Emery)</td>\n      <td></td>\n      <td>43.7248</td>\n      <td>-79.5322</td>\n    </tr>\n    <tr>\n      <th>58</th>\n      <td>M1N</td>\n      <td>Scarborough(Birch Cliff / Cliffside West)</td>\n      <td></td>\n      <td>43.6927</td>\n      <td>-79.2648</td>\n    </tr>\n    <tr>\n      <th>59</th>\n      <td>M2N</td>\n      <td>North York(Willowdale)South</td>\n      <td></td>\n      <td>40.7472</td>\n      <td>-73.8841</td>\n    </tr>\n    <tr>\n      <th>61</th>\n      <td>M4N</td>\n      <td>Central Toronto(Lawrence Park)</td>\n      <td></td>\n      <td>43.728</td>\n      <td>-79.3888</td>\n    </tr>\n    <tr>\n      <th>63</th>\n      <td>M6N</td>\n      <td>York(Runnymede / The Junction North)</td>\n      <td></td>\n      <td>43.6732</td>\n      <td>-79.4873</td>\n    </tr>\n    <tr>\n      <th>66</th>\n      <td>M2P</td>\n      <td>North York(York Mills West)</td>\n      <td></td>\n      <td>45.4852</td>\n      <td>-122.787</td>\n    </tr>\n    <tr>\n      <th>72</th>\n      <td>M2R</td>\n      <td>North York(Willowdale)West</td>\n      <td></td>\n      <td>44.0693</td>\n      <td>-79.4817</td>\n    </tr>\n    <tr>\n      <th>74</th>\n      <td>M5R</td>\n      <td>Central Toronto(The Annex / North Midtown / Yo...</td>\n      <td></td>\n      <td>43.6727</td>\n      <td>-79.4057</td>\n    </tr>\n    <tr>\n      <th>78</th>\n      <td>M1S</td>\n      <td>Scarborough(Agincourt)</td>\n      <td></td>\n      <td>43.7854</td>\n      <td>-79.2806</td>\n    </tr>\n    <tr>\n      <th>79</th>\n      <td>M4S</td>\n      <td>Central Toronto(Davisville)</td>\n      <td></td>\n      <td>43.4666</td>\n      <td>-81.1963</td>\n    </tr>\n    <tr>\n      <th>84</th>\n      <td>M5T</td>\n      <td>Downtown Toronto(Kensington Market / Chinatown...</td>\n      <td></td>\n      <td>45.4066</td>\n      <td>-71.9696</td>\n    </tr>\n    <tr>\n      <th>87</th>\n      <td>M5V</td>\n      <td>Downtown Toronto(CN Tower / King and Spadina /...</td>\n      <td></td>\n      <td>43.6457</td>\n      <td>-79.3927</td>\n    </tr>\n    <tr>\n      <th>88</th>\n      <td>M8V</td>\n      <td>Etobicoke(New Toronto / Mimico South / Humber ...</td>\n      <td></td>\n      <td>43.6056</td>\n      <td>-79.5013</td>\n    </tr>\n    <tr>\n      <th>89</th>\n      <td>M9V</td>\n      <td>Etobicoke(South Steeles / Silverstone / Humber...</td>\n      <td></td>\n      <td>43.7394</td>\n      <td>-79.5884</td>\n    </tr>\n    <tr>\n      <th>91</th>\n      <td>M4W</td>\n      <td>Downtown Toronto(Rosedale)</td>\n      <td></td>\n      <td>43.6796</td>\n      <td>-79.3775</td>\n    </tr>\n    <tr>\n      <th>93</th>\n      <td>M8W</td>\n      <td>Etobicoke(Alderwood / Long Branch)</td>\n      <td></td>\n      <td>43.6024</td>\n      <td>-79.5435</td>\n    </tr>\n    <tr>\n      <th>94</th>\n      <td>M9W</td>\n      <td>EtobicokeNorthwest(Clairville / Humberwood / W...</td>\n      <td></td>\n      <td>43.7067</td>\n      <td>-79.5941</td>\n    </tr>\n    <tr>\n      <th>99</th>\n      <td>M4Y</td>\n      <td>Downtown Toronto(Church and Wellesley)</td>\n      <td></td>\n      <td>43.6659</td>\n      <td>-79.3832</td>\n    </tr>\n    <tr>\n      <th>102</th>\n      <td>M8Z</td>\n      <td>Etobicoke(Mimico NW / The Queensway West / Sou...</td>\n      <td></td>\n      <td>43.6288</td>\n      <td>-79.521</td>\n    </tr>\n  </tbody>\n</table>\n</div>", 
                        "text/plain": "    Postalcode                                            Borough  \\\n0          M3A                              North York(Parkwoods)   \n2          M5A       Downtown Toronto(Regent Park / Harbourfront)   \n8          M4B        East York(Parkview Hill / Woodbine Gardens)   \n13         M3C        North York(Don Mills)South(Flemingdon Park)   \n14         M4C                        East York(Woodbine Heights)   \n18         M1E   Scarborough(Guildwood / Morningside / West Hill)   \n20         M5E                      Downtown Toronto(Berczy Park)   \n27         M2H                      North York(Hillcrest Village)   \n28         M3H  North York(Bathurst Manor / Wilson Heights / D...   \n30         M5H       Downtown Toronto(Richmond / Adelaide / King)   \n31         M6H        West Toronto(Dufferin / Dovercourt Village)   \n35         M4J          East YorkEast Toronto(The Danforth  East)   \n36         M5J  Downtown Toronto(Harbourfront East / Union Sta...   \n39         M2K                        North York(Bayview Village)   \n40         M3K           North York(Downsview)East  (CFB Toronto)   \n43         M6K  West Toronto(Brockton / Parkdale Village / Exh...   \n45         M2L              North York(York Mills / Silver Hills)   \n46         M3L                          North York(Downsview)West   \n47         M4L      East Toronto(India Bazaar / The Beaches West)   \n50         M9L                          North York(Humber Summit)   \n51         M1M  Scarborough(Cliffside / Cliffcrest / Scarborou...   \n52         M2M               North York(Willowdale / Newtonbrook)   \n53         M3M                       North York(Downsview)Central   \n54         M4M                      East Toronto(Studio District)   \n57         M9M                      North York(Humberlea / Emery)   \n58         M1N          Scarborough(Birch Cliff / Cliffside West)   \n59         M2N                        North York(Willowdale)South   \n61         M4N                     Central Toronto(Lawrence Park)   \n63         M6N               York(Runnymede / The Junction North)   \n66         M2P                        North York(York Mills West)   \n72         M2R                         North York(Willowdale)West   \n74         M5R  Central Toronto(The Annex / North Midtown / Yo...   \n78         M1S                            Scarborough(Agincourt)    \n79         M4S                        Central Toronto(Davisville)   \n84         M5T  Downtown Toronto(Kensington Market / Chinatown...   \n87         M5V  Downtown Toronto(CN Tower / King and Spadina /...   \n88         M8V  Etobicoke(New Toronto / Mimico South / Humber ...   \n89         M9V  Etobicoke(South Steeles / Silverstone / Humber...   \n91         M4W                         Downtown Toronto(Rosedale)   \n93         M8W                 Etobicoke(Alderwood / Long Branch)   \n94         M9W  EtobicokeNorthwest(Clairville / Humberwood / W...   \n99         M4Y             Downtown Toronto(Church and Wellesley)   \n102        M8Z  Etobicoke(Mimico NW / The Queensway West / Sou...   \n\n    Neighborhood Latitude Longitude  \n0                 32.3636  -90.1524  \n2                 43.6543  -79.3606  \n8                 43.7149  -79.3051  \n13                45.5725   -73.414  \n14                43.6846  -79.3188  \n18                43.7636  -79.1887  \n20                43.6448  -79.3733  \n27                43.8037  -79.3719  \n28                 40.782  -74.1386  \n30                43.6511  -79.3843  \n31                 43.669  -79.4423  \n35                43.6825  -79.3281  \n36                43.6408  -79.3818  \n39                41.6307  -93.7143  \n40                30.1212  -95.4403  \n43                43.6368  -79.4282  \n45                40.7459  -73.9839  \n46                39.0941  -76.9338  \n47                40.2665  -76.7463  \n50                43.7563   -79.566  \n51                36.3252  -79.6888  \n52                40.7303  -73.9945  \n53                43.7238  -79.4894  \n54                40.7379  -74.0002  \n57                43.7248  -79.5322  \n58                43.6927  -79.2648  \n59                40.7472  -73.8841  \n61                 43.728  -79.3888  \n63                43.6732  -79.4873  \n66                45.4852  -122.787  \n72                44.0693  -79.4817  \n74                43.6727  -79.4057  \n78                43.7854  -79.2806  \n79                43.4666  -81.1963  \n84                45.4066  -71.9696  \n87                43.6457  -79.3927  \n88                43.6056  -79.5013  \n89                43.7394  -79.5884  \n91                43.6796  -79.3775  \n93                43.6024  -79.5435  \n94                43.7067  -79.5941  \n99                43.6659  -79.3832  \n102               43.6288   -79.521  "
                    }, 
                    "execution_count": 12, 
                    "metadata": {}
                }
            ], 
            "execution_count": 12
        }, 
        {
            "source": "\nimport numpy as np # library to handle data in a vectorized manner\n\nimport pandas as pd # library for data analsysis\npd.set_option('display.max_columns', None)\npd.set_option('display.max_rows', None)\n\nimport json # library to handle JSON files\n\n!conda install -c conda-forge geopy --yes\nfrom geopy.geocoders import Nominatim # convert an address into latitude and longitude values\n\nimport requests # library to handle requests\nfrom pandas.io.json import json_normalize # tranform JSON file into a pandas dataframe\n\n# Matplotlib and associated plotting modules\nimport matplotlib.cm as cm\nimport matplotlib.colors as colors\n\n# import k-means from clustering stage\nfrom sklearn.cluster import KMeans\n\n!conda install -c conda-forge folium=0.5.0 --yes \nimport folium # map rendering library\n\nprint('Libraries imported.')\n\n", 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "Fetching package metadata .............\nSolving package specifications: .\n\nPackage plan for installation in environment /opt/conda/envs/DSX-Python35:\n\nThe following NEW packages will be INSTALLED:\n\n    geographiclib: 1.49-py_0   conda-forge\n    geopy:         1.15.0-py_0 conda-forge\n\ngeographiclib- 100% |################################| Time: 0:00:00  39.02 kB/s\ngeopy-1.15.0-p 100% |################################| Time: 0:00:00 695.32 kB/s\nFetching package metadata .............\nSolving package specifications: .\n\nPackage plan for installation in environment /opt/conda/envs/DSX-Python35:\n\nThe following NEW packages will be INSTALLED:\n\n    altair:  2.1.0-py_0 conda-forge\n    branca:  0.3.0-py_0 conda-forge\n    folium:  0.5.0-py_0 conda-forge\n    vincent: 0.4.4-py_1 conda-forge\n\nbranca-0.3.0-p 100% |################################| Time: 0:00:00 799.19 kB/s\nvincent-0.4.4- 100% |################################| Time: 0:00:00 910.15 kB/s\naltair-2.1.0-p 100% |################################| Time: 0:00:00   1.02 MB/s\nfolium-0.5.0-p 100% |################################| Time: 0:00:00   1.49 MB/s\nLibraries imported.\n"
                }
            ], 
            "execution_count": 13
        }, 
        {
            "source": "\n\nlatitude = 43.653908\nlongitude = -79.384293\nprint('The geograpical coordinate of Toronoto Canada are {}, {}.'.format(latitude, longitude))\n", 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "output_type": "stream", 
                    "name": "stdout", 
                    "text": "The geograpical coordinate of Toronoto Canada are 43.653908, -79.384293.\n"
                }
            ], 
            "execution_count": 14
        }, 
        {
            "source": "#map of Toronto\nmap_toronto = folium.Map(location=[latitude, longitude], zoom_start=10)\n\n\n# Visualizing and adding markers to map\nfor lat, lng, borough, neighborhood in zip(df_min['Latitude'], df_min['Longitude'], df_min['Borough'], df_min['Neighborhood']):\n    label = '{}, {}'.format(neighborhood, borough)\n    label = folium.Popup(label, parse_html=True)\n    folium.CircleMarker(\n        [lat, lng],\n        radius=5,\n        popup=label,\n        color='red',\n        fill=True,\n        fill_color='#3186cc',\n        fill_opacity=0.7,\n        parse_html=False).add_to(map_toronto)  \n    \n\nmap_toronto\n", 
            "cell_type": "code", 
            "metadata": {}, 
            "outputs": [
                {
                    "output_type": "execute_result", 
                    "data": {
                        "text/html": "<div style=\"width:100%;\"><div style=\"position:relative;width:100%;height:0;padding-bottom:60%;\"><iframe src=\"data:text/html;charset=utf-8;base64,PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNjUzOTA4LC03OS4zODQyOTNdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9vbTogMTAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhCb3VuZHM6IGJvdW5kcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyczogW10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JsZENvcHlKdW1wOiBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyczogTC5DUlMuRVBTRzM4NTcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciB0aWxlX2xheWVyXzkwM2FjMjEzZTliYjRmZjA5YmFjZjkyMmNhMGU5NWVkID0gTC50aWxlTGF5ZXIoCiAgICAgICAgICAgICAgICAnaHR0cHM6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnLAogICAgICAgICAgICAgICAgewogICJhdHRyaWJ1dGlvbiI6IG51bGwsCiAgImRldGVjdFJldGluYSI6IGZhbHNlLAogICJtYXhab29tIjogMTgsCiAgIm1pblpvb20iOiAxLAogICJub1dyYXAiOiBmYWxzZSwKICAic3ViZG9tYWlucyI6ICJhYmMiCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xNmM5YmUzNjI2ODg0MzEzYjI3MGQ2NzU4YzRhODFmMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzMyLjM2MzU3NywtOTAuMTUyNDEzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGRlZTc1YWQxYzFhNDdlYzhmODhlYmM3NTE3OGM3MmUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGZkZDRhZDBjZWIzNDQzZDk0OGI1YzQyZmYwMjZhMGQgPSAkKCc8ZGl2IGlkPSJodG1sXzRmZGQ0YWQwY2ViMzQ0M2Q5NDhiNWM0MmZmMDI2YTBkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIE5vcnRoIFlvcmsoUGFya3dvb2RzKTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGRlZTc1YWQxYzFhNDdlYzhmODhlYmM3NTE3OGM3MmUuc2V0Q29udGVudChodG1sXzRmZGQ0YWQwY2ViMzQ0M2Q5NDhiNWM0MmZmMDI2YTBkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzE2YzliZTM2MjY4ODQzMTNiMjcwZDY3NThjNGE4MWYxLmJpbmRQb3B1cChwb3B1cF8wZGVlNzVhZDFjMWE0N2VjOGY4OGViYzc1MTc4YzcyZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lMjY2NmZjZTkyOGI0MzU5YTZlYzJkMmNhYTlkZDMxZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1NDI1OTksLTc5LjM2MDYzNTg5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjUyMmE2M2U2MzEzNGM5YTk2YWEyOGVmMGU3ZDliMzkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTIwMjAxYTNmN2M4NGIyMDlhNTI0M2E1NmM2YjVjOTYgPSAkKCc8ZGl2IGlkPSJodG1sX2EyMDIwMWEzZjdjODRiMjA5YTUyNDNhNTZjNmI1Yzk2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIERvd250b3duIFRvcm9udG8oUmVnZW50IFBhcmsgLyBIYXJib3VyZnJvbnQpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNTIyYTYzZTYzMTM0YzlhOTZhYTI4ZWYwZTdkOWIzOS5zZXRDb250ZW50KGh0bWxfYTIwMjAxYTNmN2M4NGIyMDlhNTI0M2E1NmM2YjVjOTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTI2NjZmY2U5MjhiNDM1OWE2ZWMyZDJjYWE5ZGQzMWYuYmluZFBvcHVwKHBvcHVwXzI1MjJhNjNlNjMxMzRjOWE5NmFhMjhlZjBlN2Q5YjM5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Q5OTM1MGEyYjQyNzRhNmU4NjdhM2U4NjZjZWE4Y2ViID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE0OTM4NywtNzkuMzA1MDY4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzMwY2Q4M2ZlMjAwMDQ4YzE5YzYwZDU3OTZjYzZmNDJhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ZjYjk2MmEwN2M2ZDRmZjY5NTA2OTNlNzVjMDQ3NGQ3ID0gJCgnPGRpdiBpZD0iaHRtbF9mY2I5NjJhMDdjNmQ0ZmY2OTUwNjkzZTc1YzA0NzRkNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+LCBFYXN0IFlvcmsoUGFya3ZpZXcgSGlsbCAvIFdvb2RiaW5lIEdhcmRlbnMpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zMGNkODNmZTIwMDA0OGMxOWM2MGQ1Nzk2Y2M2ZjQyYS5zZXRDb250ZW50KGh0bWxfZmNiOTYyYTA3YzZkNGZmNjk1MDY5M2U3NWMwNDc0ZDcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZDk5MzUwYTJiNDI3NGE2ZTg2N2EzZTg2NmNlYThjZWIuYmluZFBvcHVwKHBvcHVwXzMwY2Q4M2ZlMjAwMDQ4YzE5YzYwZDU3OTZjYzZmNDJhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2EwZjJmMjM3MzJkYzRmNGRiMjlkMWUxYmYxOGRmZGIyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDUuNTcyNDUwNiwtNzMuNDEzOTUxNTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82ZTZiN2U2ZTQ0Zjg0NDNlYWJmMjQyM2JmYmZiMTJmMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81ZDk2MWI4YjZlYjg0MzM4ODUwM2ViNDVkMWFlODM5MiA9ICQoJzxkaXYgaWQ9Imh0bWxfNWQ5NjFiOGI2ZWI4NDMzODg1MDNlYjQ1ZDFhZTgzOTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPiwgTm9ydGggWW9yayhEb24gTWlsbHMpU291dGgoRmxlbWluZ2RvbiBQYXJrKTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmU2YjdlNmU0NGY4NDQzZWFiZjI0MjNiZmJmYjEyZjMuc2V0Q29udGVudChodG1sXzVkOTYxYjhiNmViODQzMzg4NTAzZWI0NWQxYWU4MzkyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2EwZjJmMjM3MzJkYzRmNGRiMjlkMWUxYmYxOGRmZGIyLmJpbmRQb3B1cChwb3B1cF82ZTZiN2U2ZTQ0Zjg0NDNlYWJmMjQyM2JmYmZiMTJmMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xYjlhYTg5NjczMjY0MjY5YTVkMjgzYmMxY2Y4YjZlNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4NDU2NjcsLTc5LjMxODg0ODFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zNDcxYmE1NGI5ZmM0NDY0YTM2ZTI3NjMxZTA2NGNhYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81OWMyZmQ1ZmRkMzc0ZWJlYWI1OTFmODBiNTkwNzBiZCA9ICQoJzxkaXYgaWQ9Imh0bWxfNTljMmZkNWZkZDM3NGViZWFiNTkxZjgwYjU5MDcwYmQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPiwgRWFzdCBZb3JrKFdvb2RiaW5lIEhlaWdodHMpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zNDcxYmE1NGI5ZmM0NDY0YTM2ZTI3NjMxZTA2NGNhYS5zZXRDb250ZW50KGh0bWxfNTljMmZkNWZkZDM3NGViZWFiNTkxZjgwYjU5MDcwYmQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMWI5YWE4OTY3MzI2NDI2OWE1ZDI4M2JjMWNmOGI2ZTcuYmluZFBvcHVwKHBvcHVwXzM0NzFiYTU0YjlmYzQ0NjRhMzZlMjc2MzFlMDY0Y2FhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2UwNjY2Y2NmNzE0MzQxZTQ5MjY1MzZjNGZlZjYxYjQ5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzYzNTcyNiwtNzkuMTg4NzExNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I5ODBjZWYzNmVmODQ5NTc4MWFjZDYzNzVkZjliMGY4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY2ZDAxYzM1NGE4MzQ4MTA5NjY0MzhkMThkZTBkZTQwID0gJCgnPGRpdiBpZD0iaHRtbF82NmQwMWMzNTRhODM0ODEwOTY2NDM4ZDE4ZGUwZGU0MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+LCBTY2FyYm9yb3VnaChHdWlsZHdvb2QgLyBNb3JuaW5nc2lkZSAvIFdlc3QgSGlsbCk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I5ODBjZWYzNmVmODQ5NTc4MWFjZDYzNzVkZjliMGY4LnNldENvbnRlbnQoaHRtbF82NmQwMWMzNTRhODM0ODEwOTY2NDM4ZDE4ZGUwZGU0MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lMDY2NmNjZjcxNDM0MWU0OTI2NTM2YzRmZWY2MWI0OS5iaW5kUG9wdXAocG9wdXBfYjk4MGNlZjM2ZWY4NDk1NzgxYWNkNjM3NWRmOWIwZjgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDA0YTVmNTEwZWVmNGM5MWE3OGU4YjJkYmUxODc2MzQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDQ3NzA4LC03OS4zNzMzMDYzOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdmMDYyMjcxMzVlZjQ0Y2ZiYzJlZjJlM2I4ZWM2ZDU3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQwMmU2MDA4N2EyNzRmNzg4ZTFhNDE0YWY2YzI1OWRhID0gJCgnPGRpdiBpZD0iaHRtbF80MDJlNjAwODdhMjc0Zjc4OGUxYTQxNGFmNmMyNTlkYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+LCBEb3dudG93biBUb3JvbnRvKEJlcmN6eSBQYXJrKTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfN2YwNjIyNzEzNWVmNDRjZmJjMmVmMmUzYjhlYzZkNTcuc2V0Q29udGVudChodG1sXzQwMmU2MDA4N2EyNzRmNzg4ZTFhNDE0YWY2YzI1OWRhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQwNGE1ZjUxMGVlZjRjOTFhNzhlOGIyZGJlMTg3NjM0LmJpbmRQb3B1cChwb3B1cF83ZjA2MjI3MTM1ZWY0NGNmYmMyZWYyZTNiOGVjNmQ1Nyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9kZmUwMDdmMjViYWU0ZTdhYjUwNjMxNGM1ZDNkNTM2MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjgwMzY1NTEsLTc5LjM3MTg5MTRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81MWExMDdiN2YyNjE0ODRkOWViOGI4OWEzNzczYThlNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yNjE5MzIwZTc3OGY0NTdlYTEyODk2ZDE2ZGVlMWUzZSA9ICQoJzxkaXYgaWQ9Imh0bWxfMjYxOTMyMGU3NzhmNDU3ZWExMjg5NmQxNmRlZTFlM2UiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPiwgTm9ydGggWW9yayhIaWxsY3Jlc3QgVmlsbGFnZSk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUxYTEwN2I3ZjI2MTQ4NGQ5ZWI4Yjg5YTM3NzNhOGU0LnNldENvbnRlbnQoaHRtbF8yNjE5MzIwZTc3OGY0NTdlYTEyODk2ZDE2ZGVlMWUzZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kZmUwMDdmMjViYWU0ZTdhYjUwNjMxNGM1ZDNkNTM2MC5iaW5kUG9wdXAocG9wdXBfNTFhMTA3YjdmMjYxNDg0ZDllYjhiODlhMzc3M2E4ZTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZGVjZTE2MDEzZTg4NGRmMWJlYjljZmE2Nzk3YzI2NWQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43ODIwMzg4LC03NC4xMzg2Mjk2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDAxZTFjNjRhZTU3NDQ2MGJjZTZmNDExYzEzZGVhYzMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfM2ZlMzUwMDg5ZTY0NGYwMTk1ODk5N2M3NzgzYjIzM2IgPSAkKCc8ZGl2IGlkPSJodG1sXzNmZTM1MDA4OWU2NDRmMDE5NTg5OTdjNzc4M2IyMzNiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIE5vcnRoIFlvcmsoQmF0aHVyc3QgTWFub3IgLyBXaWxzb24gSGVpZ2h0cyAvIERvd25zdmlldyBOb3J0aCk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQwMWUxYzY0YWU1NzQ0NjBiY2U2ZjQxMWMxM2RlYWMzLnNldENvbnRlbnQoaHRtbF8zZmUzNTAwODllNjQ0ZjAxOTU4OTk3Yzc3ODNiMjMzYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kZWNlMTYwMTNlODg0ZGYxYmViOWNmYTY3OTdjMjY1ZC5iaW5kUG9wdXAocG9wdXBfNDAxZTFjNjRhZTU3NDQ2MGJjZTZmNDExYzEzZGVhYzMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzk4NmQ4YmIzNjIyNDVkYzkwZjZkOWIwZTQ2NGY0OGUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTExNDQxLC03OS4zODQzMjg2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTkyOGE2YzljNWFmNDdhMDhmM2ViY2QxZTg1YTUzMjEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWI5YjM5YWI0ZDA4NDc3MDg5NDEzNzIwODk3NzZkNmQgPSAkKCc8ZGl2IGlkPSJodG1sX2ViOWIzOWFiNGQwODQ3NzA4OTQxMzcyMDg5Nzc2ZDZkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIERvd250b3duIFRvcm9udG8oUmljaG1vbmQgLyBBZGVsYWlkZSAvIEtpbmcpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xOTI4YTZjOWM1YWY0N2EwOGYzZWJjZDFlODVhNTMyMS5zZXRDb250ZW50KGh0bWxfZWI5YjM5YWI0ZDA4NDc3MDg5NDEzNzIwODk3NzZkNmQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzk4NmQ4YmIzNjIyNDVkYzkwZjZkOWIwZTQ2NGY0OGUuYmluZFBvcHVwKHBvcHVwXzE5MjhhNmM5YzVhZjQ3YTA4ZjNlYmNkMWU4NWE1MzIxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc2YmQxZTgxMzE4MjQ0NTM4MzBlZDcxY2JlYjE1NWIyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY5MDA1MSwtNzkuNDQyMjU5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzg5ZDhiNmY5MjRkMDRiZmQ5OTE0YzA4NmFkNjJlOWZjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRhMDA0YWEwMWJmYjQ3NDg5ZjBiNjIwMDM0NzVjZWI0ID0gJCgnPGRpdiBpZD0iaHRtbF80YTAwNGFhMDFiZmI0NzQ4OWYwYjYyMDAzNDc1Y2ViNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+LCBXZXN0IFRvcm9udG8oRHVmZmVyaW4gLyBEb3ZlcmNvdXJ0IFZpbGxhZ2UpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84OWQ4YjZmOTI0ZDA0YmZkOTkxNGMwODZhZDYyZTlmYy5zZXRDb250ZW50KGh0bWxfNGEwMDRhYTAxYmZiNDc0ODlmMGI2MjAwMzQ3NWNlYjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzZiZDFlODEzMTgyNDQ1MzgzMGVkNzFjYmViMTU1YjIuYmluZFBvcHVwKHBvcHVwXzg5ZDhiNmY5MjRkMDRiZmQ5OTE0YzA4NmFkNjJlOWZjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ZiN2I5ODdlMDljMzRlNWNhNWY0ODRlYjhjNmU5NDhhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjgyNTQ0NywtNzkuMzI4MDgzN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzE5MDc5YzcwZWE1MjQwYmZhMjdiYjE5ZDdmMTE0ZGUyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzVjOTdlNDgyZjg5MTRkZTBhMTRjZDY2MDhmZWVhMTI3ID0gJCgnPGRpdiBpZD0iaHRtbF81Yzk3ZTQ4MmY4OTE0ZGUwYTE0Y2Q2NjA4ZmVlYTEyNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+LCBFYXN0IFlvcmtFYXN0IFRvcm9udG8oVGhlIERhbmZvcnRoICBFYXN0KTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTkwNzljNzBlYTUyNDBiZmEyN2JiMTlkN2YxMTRkZTIuc2V0Q29udGVudChodG1sXzVjOTdlNDgyZjg5MTRkZTBhMTRjZDY2MDhmZWVhMTI3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZiN2I5ODdlMDljMzRlNWNhNWY0ODRlYjhjNmU5NDhhLmJpbmRQb3B1cChwb3B1cF8xOTA3OWM3MGVhNTI0MGJmYTI3YmIxOWQ3ZjExNGRlMik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hMjBlNmJkMzkyMjY0NWViYjhiYmY5NWQ5ZDQxZDQ1NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MDgxNTcsLTc5LjM4MTc1MjNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83N2Q0ZmE0ZTExOGI0YTAzYTI4NTBjZWRhMzQyM2VkYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xY2MwMjA1OTRkZTA0ZDk5YTc0NzBlMzQzYWRmNWZjYyA9ICQoJzxkaXYgaWQ9Imh0bWxfMWNjMDIwNTk0ZGUwNGQ5OWE3NDcwZTM0M2FkZjVmY2MiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPiwgRG93bnRvd24gVG9yb250byhIYXJib3VyZnJvbnQgRWFzdCAvIFVuaW9uIFN0YXRpb24gLyBUb3JvbnRvIElzbGFuZHMpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83N2Q0ZmE0ZTExOGI0YTAzYTI4NTBjZWRhMzQyM2VkYi5zZXRDb250ZW50KGh0bWxfMWNjMDIwNTk0ZGUwNGQ5OWE3NDcwZTM0M2FkZjVmY2MpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTIwZTZiZDM5MjI2NDVlYmI4YmJmOTVkOWQ0MWQ0NTUuYmluZFBvcHVwKHBvcHVwXzc3ZDRmYTRlMTE4YjRhMDNhMjg1MGNlZGEzNDIzZWRiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2E4NzY0ZDgyZWVmZjQxMTE4ZGZjNDdkN2YzYmY2YjI3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDEuNjMwNjc4MSwtOTMuNzE0MzM1NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Q2OTFmYzdmNjZlNDQ4MDU5ZWQ2ZDFmZjM0NTJlOGYwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzAyZGJmZjg1NmFjNTRiZDhiYzRiNmVjZjFhYTY5ZjVlID0gJCgnPGRpdiBpZD0iaHRtbF8wMmRiZmY4NTZhYzU0YmQ4YmM0YjZlY2YxYWE2OWY1ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+LCBOb3J0aCBZb3JrKEJheXZpZXcgVmlsbGFnZSk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q2OTFmYzdmNjZlNDQ4MDU5ZWQ2ZDFmZjM0NTJlOGYwLnNldENvbnRlbnQoaHRtbF8wMmRiZmY4NTZhYzU0YmQ4YmM0YjZlY2YxYWE2OWY1ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hODc2NGQ4MmVlZmY0MTExOGRmYzQ3ZDdmM2JmNmIyNy5iaW5kUG9wdXAocG9wdXBfZDY5MWZjN2Y2NmU0NDgwNTllZDZkMWZmMzQ1MmU4ZjApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWUzODJlNmQzNjRhNDliNWIxZDc0NjVlMjQ0NzNjZDUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFszMC4xMjEyNDEsLTk1LjQ0MDI2Mzg5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDQzYjljNTJkNDQzNDdhMjk0M2ZlZmUwODNjNDdhMmMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTE5Y2VlNDc0YmNkNGNiMjgzNDgyOWY5NGU2NGRhYTcgPSAkKCc8ZGl2IGlkPSJodG1sX2ExOWNlZTQ3NGJjZDRjYjI4MzQ4MjlmOTRlNjRkYWE3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIE5vcnRoIFlvcmsoRG93bnN2aWV3KUVhc3QgIChDRkIgVG9yb250byk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ0M2I5YzUyZDQ0MzQ3YTI5NDNmZWZlMDgzYzQ3YTJjLnNldENvbnRlbnQoaHRtbF9hMTljZWU0NzRiY2Q0Y2IyODM0ODI5Zjk0ZTY0ZGFhNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZTM4MmU2ZDM2NGE0OWI1YjFkNzQ2NWUyNDQ3M2NkNS5iaW5kUG9wdXAocG9wdXBfNDQzYjljNTJkNDQzNDdhMjk0M2ZlZmUwODNjNDdhMmMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTFjZTNlZWU1OGM1NGVmYTliZmU3NTUyNjIyNTNhZDkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzY4NDcyLC03OS40MjgxOTE0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjBmYjg2MjA0YzAwNGNiYTk3NzZmODgwN2VhZWMzMDggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzExZDUxMjk5MzhhNDg0N2E0MTUzZmJhMDRlMDNhYTcgPSAkKCc8ZGl2IGlkPSJodG1sXzMxMWQ1MTI5OTM4YTQ4NDdhNDE1M2ZiYTA0ZTAzYWE3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIFdlc3QgVG9yb250byhCcm9ja3RvbiAvIFBhcmtkYWxlIFZpbGxhZ2UgLyBFeGhpYml0aW9uIFBsYWNlKTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjBmYjg2MjA0YzAwNGNiYTk3NzZmODgwN2VhZWMzMDguc2V0Q29udGVudChodG1sXzMxMWQ1MTI5OTM4YTQ4NDdhNDE1M2ZiYTA0ZTAzYWE3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2UxY2UzZWVlNThjNTRlZmE5YmZlNzU1MjYyMjUzYWQ5LmJpbmRQb3B1cChwb3B1cF9iMGZiODYyMDRjMDA0Y2JhOTc3NmY4ODA3ZWFlYzMwOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iMGU0NDYzMjIyNjg0ZjFiYTNhN2EzYzNmMjcxYTM2ZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjc0NTkxMywtNzMuOTgzODg4OTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yYmM1NDk4NmQ5MDE0MTQ4YTg0NjYyMzY1MDEyODBjYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80NWNjMThiMDdkZjg0MTdjODI0ZDg2NTk2OWMzNDM0NyA9ICQoJzxkaXYgaWQ9Imh0bWxfNDVjYzE4YjA3ZGY4NDE3YzgyNGQ4NjU5NjljMzQzNDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPiwgTm9ydGggWW9yayhZb3JrIE1pbGxzIC8gU2lsdmVyIEhpbGxzKTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmJjNTQ5ODZkOTAxNDE0OGE4NDY2MjM2NTAxMjgwY2Euc2V0Q29udGVudChodG1sXzQ1Y2MxOGIwN2RmODQxN2M4MjRkODY1OTY5YzM0MzQ3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2IwZTQ0NjMyMjI2ODRmMWJhM2E3YTNjM2YyNzFhMzZkLmJpbmRQb3B1cChwb3B1cF8yYmM1NDk4NmQ5MDE0MTQ4YTg0NjYyMzY1MDEyODBjYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84ZDU1ZDJlNzYwZDY0MmQxYjNlMGI0Mjc5MDAxYTQ3NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzM5LjA5NDEzNiwtNzYuOTMzNzg3OTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NGNmMjFiOTE1M2E0ODMxYjEwNjJkOGJjMTczZWE3ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80YTJhZDY4MDg3ZTM0OGY4ODZjYWMyM2RkZTJlODM4OCA9ICQoJzxkaXYgaWQ9Imh0bWxfNGEyYWQ2ODA4N2UzNDhmODg2Y2FjMjNkZGUyZTgzODgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPiwgTm9ydGggWW9yayhEb3duc3ZpZXcpV2VzdDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDRjZjIxYjkxNTNhNDgzMWIxMDYyZDhiYzE3M2VhN2Uuc2V0Q29udGVudChodG1sXzRhMmFkNjgwODdlMzQ4Zjg4NmNhYzIzZGRlMmU4Mzg4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzhkNTVkMmU3NjBkNjQyZDFiM2UwYjQyNzkwMDFhNDc0LmJpbmRQb3B1cChwb3B1cF80NGNmMjFiOTE1M2E0ODMxYjEwNjJkOGJjMTczZWE3ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mOGQ5YjZmNmI0NDA0NmQyOGNmZmNkYjAxZGQ0NTJkNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQwLjI2NjQ1NCwtNzYuNzQ2MjU5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWYzZjEyZDgxYzAwNGU3ZThjNmU3NmU2NmRkYzJkNzEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWY4NzczOTk0ZjhiNGI3NWJjZWU4ZWYzZTU2NzBkODAgPSAkKCc8ZGl2IGlkPSJodG1sXzFmODc3Mzk5NGY4YjRiNzViY2VlOGVmM2U1NjcwZDgwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIEVhc3QgVG9yb250byhJbmRpYSBCYXphYXIgLyBUaGUgQmVhY2hlcyBXZXN0KTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYWYzZjEyZDgxYzAwNGU3ZThjNmU3NmU2NmRkYzJkNzEuc2V0Q29udGVudChodG1sXzFmODc3Mzk5NGY4YjRiNzViY2VlOGVmM2U1NjcwZDgwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Y4ZDliNmY2YjQ0MDQ2ZDI4Y2ZmY2RiMDFkZDQ1MmQ3LmJpbmRQb3B1cChwb3B1cF9hZjNmMTJkODFjMDA0ZTdlOGM2ZTc2ZTY2ZGRjMmQ3MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81YmU0ZTA2Zjk2M2E0MDYwYTMwZDJiMmMzZDdiNjA4MiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NjMwMzMsLTc5LjU2NTk2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZmU0MmJjOTZmOTUzNGFhOThlNjMxMTY5YjZmYjlkYTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjBkZDIzZGVhZTIzNDY2MzhkYjQyYTVhNjk4MWRlODYgPSAkKCc8ZGl2IGlkPSJodG1sX2IwZGQyM2RlYWUyMzQ2NjM4ZGI0MmE1YTY5ODFkZTg2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIE5vcnRoIFlvcmsoSHVtYmVyIFN1bW1pdCk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZlNDJiYzk2Zjk1MzRhYTk4ZTYzMTE2OWI2ZmI5ZGE1LnNldENvbnRlbnQoaHRtbF9iMGRkMjNkZWFlMjM0NjYzOGRiNDJhNWE2OTgxZGU4Nik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81YmU0ZTA2Zjk2M2E0MDYwYTMwZDJiMmMzZDdiNjA4Mi5iaW5kUG9wdXAocG9wdXBfZmU0MmJjOTZmOTUzNGFhOThlNjMxMTY5YjZmYjlkYTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2NjNTA0YmY1MDdjNDU0M2E2NTk0M2MzZjM4ZTZmZjggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFszNi4zMjUxNTIsLTc5LjY4ODgyMDk5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzk2M2VmMDNiYzYyNDY5Mzg1MmYwZTlhNzY2YTczYjAgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjgwZDVjZjY5Y2QwNGY5MmExNGI3YWFmMWUzNGM1YTEgPSAkKCc8ZGl2IGlkPSJodG1sX2I4MGQ1Y2Y2OWNkMDRmOTJhMTRiN2FhZjFlMzRjNWExIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIFNjYXJib3JvdWdoKENsaWZmc2lkZSAvIENsaWZmY3Jlc3QgLyBTY2FyYm9yb3VnaCBWaWxsYWdlIFdlc3QpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jOTYzZWYwM2JjNjI0NjkzODUyZjBlOWE3NjZhNzNiMC5zZXRDb250ZW50KGh0bWxfYjgwZDVjZjY5Y2QwNGY5MmExNGI3YWFmMWUzNGM1YTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfN2NjNTA0YmY1MDdjNDU0M2E2NTk0M2MzZjM4ZTZmZjguYmluZFBvcHVwKHBvcHVwX2M5NjNlZjAzYmM2MjQ2OTM4NTJmMGU5YTc2NmE3M2IwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2ExMjQxN2JjYjRjODQyMDY4YTI2MDg2ZjAyMDNmNzg1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDAuNzMwMzA5NSwtNzMuOTk0NTIzOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y0ZjE2MDQwZjcyMzRiZjRhMDcyOTU5NjRiNTdmNDZmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I1ODIwODZiMWI5YzQ5OTNiNzA3N2IwNmRjNDM0OWM5ID0gJCgnPGRpdiBpZD0iaHRtbF9iNTgyMDg2YjFiOWM0OTkzYjcwNzdiMDZkYzQzNDljOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+LCBOb3J0aCBZb3JrKFdpbGxvd2RhbGUgLyBOZXd0b25icm9vayk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Y0ZjE2MDQwZjcyMzRiZjRhMDcyOTU5NjRiNTdmNDZmLnNldENvbnRlbnQoaHRtbF9iNTgyMDg2YjFiOWM0OTkzYjcwNzdiMDZkYzQzNDljOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hMTI0MTdiY2I0Yzg0MjA2OGEyNjA4NmYwMjAzZjc4NS5iaW5kUG9wdXAocG9wdXBfZjRmMTYwNDBmNzIzNGJmNGEwNzI5NTk2NGI1N2Y0NmYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzA4MjU0OWE5ZWE1NGI5Zjg0ZWE1YzY5YTk4NGVjNjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjM3NjM0LC03OS40ODkzNzA5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTUyMzliZjFhZmVkNGRlNzliYjNjZDM3NWM2ODA0NTQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZGY0YWJmNjAyODRjNDM0OWJmNDk0ODNkMWVhMTUzODcgPSAkKCc8ZGl2IGlkPSJodG1sX2RmNGFiZjYwMjg0YzQzNDliZjQ5NDgzZDFlYTE1Mzg3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIE5vcnRoIFlvcmsoRG93bnN2aWV3KUNlbnRyYWw8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2E1MjM5YmYxYWZlZDRkZTc5YmIzY2QzNzVjNjgwNDU0LnNldENvbnRlbnQoaHRtbF9kZjRhYmY2MDI4NGM0MzQ5YmY0OTQ4M2QxZWExNTM4Nyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83MDgyNTQ5YTllYTU0YjlmODRlYTVjNjlhOTg0ZWM2MS5iaW5kUG9wdXAocG9wdXBfYTUyMzliZjFhZmVkNGRlNzliYjNjZDM3NWM2ODA0NTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZGUzYjhhMzYzNzM3NDY2NWExMDE0MTkzODk1ZmMxNWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43Mzc5MzQsLTc0LjAwMDIwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I3ZGM5YmI2NGVjYjQ3OTE5OTVkZDk4OWQ3YzI3ZGI3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU5NTcxOTYyNjk1YTRkNWRiNzc1N2U2YjBhNTVjZThmID0gJCgnPGRpdiBpZD0iaHRtbF81OTU3MTk2MjY5NWE0ZDVkYjc3NTdlNmIwYTU1Y2U4ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+LCBFYXN0IFRvcm9udG8oU3R1ZGlvIERpc3RyaWN0KTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjdkYzliYjY0ZWNiNDc5MTk5NWRkOTg5ZDdjMjdkYjcuc2V0Q29udGVudChodG1sXzU5NTcxOTYyNjk1YTRkNWRiNzc1N2U2YjBhNTVjZThmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2RlM2I4YTM2MzczNzQ2NjVhMTAxNDE5Mzg5NWZjMTViLmJpbmRQb3B1cChwb3B1cF9iN2RjOWJiNjRlY2I0NzkxOTk1ZGQ5ODlkN2MyN2RiNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iYjA1ZGFjNmI1ZmI0NWViOTNlNDQ3NjI0MDU1NDc4YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNDc2NTksLTc5LjUzMjI0MjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jNDA4OWU3NGVkNzM0Y2NlOWIyNzY3MTA4NGVkMzkyNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85MWUxYmQ5NDQ0MDc0MGYyODBhNWUyYjNkZjRjNGYzMSA9ICQoJzxkaXYgaWQ9Imh0bWxfOTFlMWJkOTQ0NDA3NDBmMjgwYTVlMmIzZGY0YzRmMzEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPiwgTm9ydGggWW9yayhIdW1iZXJsZWEgLyBFbWVyeSk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M0MDg5ZTc0ZWQ3MzRjY2U5YjI3NjcxMDg0ZWQzOTI3LnNldENvbnRlbnQoaHRtbF85MWUxYmQ5NDQ0MDc0MGYyODBhNWUyYjNkZjRjNGYzMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iYjA1ZGFjNmI1ZmI0NWViOTNlNDQ3NjI0MDU1NDc4Yi5iaW5kUG9wdXAocG9wdXBfYzQwODllNzRlZDczNGNjZTliMjc2NzEwODRlZDM5MjcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWE5MTkwZDcyNTY4NDBjNjg2YWY3YzJlN2E0ZDQxNDcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTI2NTcsLTc5LjI2NDg0ODFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80ODkxMDczMDI4ZjI0ZDY3OWQ2OTU5YzNhNjAyNjgyNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wZmY1N2E1NzI4ZTI0MWEzOGIxM2U1ZGE4NWI5MWUzOCA9ICQoJzxkaXYgaWQ9Imh0bWxfMGZmNTdhNTcyOGUyNDFhMzhiMTNlNWRhODViOTFlMzgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPiwgU2NhcmJvcm91Z2goQmlyY2ggQ2xpZmYgLyBDbGlmZnNpZGUgV2VzdCk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQ4OTEwNzMwMjhmMjRkNjc5ZDY5NTljM2E2MDI2ODI2LnNldENvbnRlbnQoaHRtbF8wZmY1N2E1NzI4ZTI0MWEzOGIxM2U1ZGE4NWI5MWUzOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85YTkxOTBkNzI1Njg0MGM2ODZhZjdjMmU3YTRkNDE0Ny5iaW5kUG9wdXAocG9wdXBfNDg5MTA3MzAyOGYyNGQ2NzlkNjk1OWMzYTYwMjY4MjYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNmQ5OGRlMWU2NTFjNGM5ZjhlMmZiOTQwYjhlYWQ1MDEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0MC43NDcxOTcyLC03My44ODQxMDE2XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDViNzI0NWYzMGQ4NGU4ZWI1NzJmZTY2NjQ3MzVmYTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjBkMjhiMzI2ZjA0NDdkOWE3M2RiYmU0Y2UxYWRmNWEgPSAkKCc8ZGl2IGlkPSJodG1sXzIwZDI4YjMyNmYwNDQ3ZDlhNzNkYmJlNGNlMWFkZjVhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIE5vcnRoIFlvcmsoV2lsbG93ZGFsZSlTb3V0aDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDViNzI0NWYzMGQ4NGU4ZWI1NzJmZTY2NjQ3MzVmYTMuc2V0Q29udGVudChodG1sXzIwZDI4YjMyNmYwNDQ3ZDlhNzNkYmJlNGNlMWFkZjVhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzZkOThkZTFlNjUxYzRjOWY4ZTJmYjk0MGI4ZWFkNTAxLmJpbmRQb3B1cChwb3B1cF9kNWI3MjQ1ZjMwZDg0ZThlYjU3MmZlNjY2NDczNWZhMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xMThlZDQ1ZjI4ZjA0MjRmYmE0ZGU3OThhYjY0NWUwMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyODAyMDUsLTc5LjM4ODc5MDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNTBjMTVlNjY4ZTM0YmUwODYzNGU5MTQxZDI0MTZjNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hZTcwMTJmOTcxNWY0MWIzODhiNjg0NTIyMWU5NmRjOSA9ICQoJzxkaXYgaWQ9Imh0bWxfYWU3MDEyZjk3MTVmNDFiMzg4YjY4NDUyMjFlOTZkYzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPiwgQ2VudHJhbCBUb3JvbnRvKExhd3JlbmNlIFBhcmspPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wNTBjMTVlNjY4ZTM0YmUwODYzNGU5MTQxZDI0MTZjNC5zZXRDb250ZW50KGh0bWxfYWU3MDEyZjk3MTVmNDFiMzg4YjY4NDUyMjFlOTZkYzkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTE4ZWQ0NWYyOGYwNDI0ZmJhNGRlNzk4YWI2NDVlMDEuYmluZFBvcHVwKHBvcHVwXzA1MGMxNWU2NjhlMzRiZTA4NjM0ZTkxNDFkMjQxNmM0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzczMTA5NjA5MjNhODQ4MTRhYjAxYmM3YjY1MGI2YWMwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjczMTg1MywtNzkuNDg3MjYxOV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZlNzM5OWFmMGJlODRjMDlhZGVjYjY5OTVjYzAyZTQzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI5NzQ3NTdjMTBmOTQ5ODJiODZjNGY1ZTVjYmRhMjk0ID0gJCgnPGRpdiBpZD0iaHRtbF8yOTc0NzU3YzEwZjk0OTgyYjg2YzRmNWU1Y2JkYTI5NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+LCBZb3JrKFJ1bm55bWVkZSAvIFRoZSBKdW5jdGlvbiBOb3J0aCk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZlNzM5OWFmMGJlODRjMDlhZGVjYjY5OTVjYzAyZTQzLnNldENvbnRlbnQoaHRtbF8yOTc0NzU3YzEwZjk0OTgyYjg2YzRmNWU1Y2JkYTI5NCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83MzEwOTYwOTIzYTg0ODE0YWIwMWJjN2I2NTBiNmFjMC5iaW5kUG9wdXAocG9wdXBfZmU3Mzk5YWYwYmU4NGMwOWFkZWNiNjk5NWNjMDJlNDMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjk1MzY3ZDAwNjEyNDZmYWExM2I3MDk1ZDhlNTIxZjYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0NS40ODUyMzksLTEyMi43ODcyMjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xZGY5ZWViN2ExNWM0ODM1YWJjNTMwOTc5ODE2MWEzMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zOWM3MjgyZWYxYTU0NGMwOGM0MTAxYzU3OTdiOTU3NyA9ICQoJzxkaXYgaWQ9Imh0bWxfMzljNzI4MmVmMWE1NDRjMDhjNDEwMWM1Nzk3Yjk1NzciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPiwgTm9ydGggWW9yayhZb3JrIE1pbGxzIFdlc3QpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xZGY5ZWViN2ExNWM0ODM1YWJjNTMwOTc5ODE2MWEzMy5zZXRDb250ZW50KGh0bWxfMzljNzI4MmVmMWE1NDRjMDhjNDEwMWM1Nzk3Yjk1NzcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjk1MzY3ZDAwNjEyNDZmYWExM2I3MDk1ZDhlNTIxZjYuYmluZFBvcHVwKHBvcHVwXzFkZjllZWI3YTE1YzQ4MzVhYmM1MzA5Nzk4MTYxYTMzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzllN2Y4YWY5YmVmNDQwNGY4ZDdhMjAwOTVhNzAzMTg4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDQuMDY5MzA4LC03OS40ODE3MTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kN2I2NmIxOGZhZjE0OGNmYWMwZjBjNTM4NmRiODMxNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lMTBiMWY3N2Y0NTU0OGE4YmUzZTM1ZTJkNTgwZjg1ZCA9ICQoJzxkaXYgaWQ9Imh0bWxfZTEwYjFmNzdmNDU1NDhhOGJlM2UzNWUyZDU4MGY4NWQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPiwgTm9ydGggWW9yayhXaWxsb3dkYWxlKVdlc3Q8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q3YjY2YjE4ZmFmMTQ4Y2ZhYzBmMGM1Mzg2ZGI4MzE2LnNldENvbnRlbnQoaHRtbF9lMTBiMWY3N2Y0NTU0OGE4YmUzZTM1ZTJkNTgwZjg1ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZTdmOGFmOWJlZjQ0MDRmOGQ3YTIwMDk1YTcwMzE4OC5iaW5kUG9wdXAocG9wdXBfZDdiNjZiMThmYWYxNDhjZmFjMGYwYzUzODZkYjgzMTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDcwZDUzYzMyMmZhNGEyOTljNzQ2NTcxY2Q3MTk1MmEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzI3MDk3LC03OS40MDU2Nzg0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjFkNzlkYWU1MDI4NGRhMjkyNGQyZDAzMmY2NDAxNGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTYwODc0NTdjNGQ4NDkwM2I4M2E0NWJjNmExOWZkNzcgPSAkKCc8ZGl2IGlkPSJodG1sXzU2MDg3NDU3YzRkODQ5MDNiODNhNDViYzZhMTlmZDc3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIENlbnRyYWwgVG9yb250byhUaGUgQW5uZXggLyBOb3J0aCBNaWR0b3duIC8gWW9ya3ZpbGxlKTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjFkNzlkYWU1MDI4NGRhMjkyNGQyZDAzMmY2NDAxNGMuc2V0Q29udGVudChodG1sXzU2MDg3NDU3YzRkODQ5MDNiODNhNDViYzZhMTlmZDc3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQ3MGQ1M2MzMjJmYTRhMjk5Yzc0NjU3MWNkNzE5NTJhLmJpbmRQb3B1cChwb3B1cF8yMWQ3OWRhZTUwMjg0ZGEyOTI0ZDJkMDMyZjY0MDE0Yyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hYTFjZjk4NWI4ZjA0YzcxYWU5ZWI4NDIxOTdlMWY3YiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4NTM5MTgsLTc5LjI4MDYxNjldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85OTVhYjFiMTFlZWI0YzVkYThmMjI5OTI5MGU4NTZhMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82NTg0YjhiMTgxNmM0ZmQ3YTBlM2UzYmZlNDU4MjA3OCA9ICQoJzxkaXYgaWQ9Imh0bWxfNjU4NGI4YjE4MTZjNGZkN2EwZTNlM2JmZTQ1ODIwNzgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPiwgU2NhcmJvcm91Z2goQWdpbmNvdXJ0KSA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk5NWFiMWIxMWVlYjRjNWRhOGYyMjk5MjkwZTg1NmEyLnNldENvbnRlbnQoaHRtbF82NTg0YjhiMTgxNmM0ZmQ3YTBlM2UzYmZlNDU4MjA3OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hYTFjZjk4NWI4ZjA0YzcxYWU5ZWI4NDIxOTdlMWY3Yi5iaW5kUG9wdXAocG9wdXBfOTk1YWIxYjExZWViNGM1ZGE4ZjIyOTkyOTBlODU2YTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmNjZWI5M2MxZGVhNDViNGFlNTAxYjZjYjA3NmViMDMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My40NjY2MzIzLC04MS4xOTYzMDY4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDE5NTdiMzEyN2U2NGNjMTg3OTM3YTIyMWRjY2MzODggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGZiMDdkNzYxYWE3NDk0MWJhZjY2YTc0Y2Y1NjM5MzYgPSAkKCc8ZGl2IGlkPSJodG1sXzhmYjA3ZDc2MWFhNzQ5NDFiYWY2NmE3NGNmNTYzOTM2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIENlbnRyYWwgVG9yb250byhEYXZpc3ZpbGxlKTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDE5NTdiMzEyN2U2NGNjMTg3OTM3YTIyMWRjY2MzODguc2V0Q29udGVudChodG1sXzhmYjA3ZDc2MWFhNzQ5NDFiYWY2NmE3NGNmNTYzOTM2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzJjY2ViOTNjMWRlYTQ1YjRhZTUwMWI2Y2IwNzZlYjAzLmJpbmRQb3B1cChwb3B1cF8wMTk1N2IzMTI3ZTY0Y2MxODc5MzdhMjIxZGNjYzM4OCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jMzYyNDA4NTE2YTM0MjI1YThhZjMzNzI4OTZjOGI0ZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQ1LjQwNjU5NywtNzEuOTY5NTk4MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZiMDhjZDIzY2UzYzRkYzVhMjNhNGI5MGNlNzUyNmIyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2JhNzg1NmNiNjYyOTRhYjQ5MDI5YThjM2VhMzU1ZGRmID0gJCgnPGRpdiBpZD0iaHRtbF9iYTc4NTZjYjY2Mjk0YWI0OTAyOWE4YzNlYTM1NWRkZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+LCBEb3dudG93biBUb3JvbnRvKEtlbnNpbmd0b24gTWFya2V0IC8gQ2hpbmF0b3duIC8gR3JhbmdlIFBhcmspPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mYjA4Y2QyM2NlM2M0ZGM1YTIzYTRiOTBjZTc1MjZiMi5zZXRDb250ZW50KGh0bWxfYmE3ODU2Y2I2NjI5NGFiNDkwMjlhOGMzZWEzNTVkZGYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYzM2MjQwODUxNmEzNDIyNWE4YWYzMzcyODk2YzhiNGYuYmluZFBvcHVwKHBvcHVwX2ZiMDhjZDIzY2UzYzRkYzVhMjNhNGI5MGNlNzUyNmIyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzE2MTA1YmJkYmY5NDQ3OGVhZTEyZDFkZjA1MDQ0ODIxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ1NzEwNiwtNzkuMzkyNzMyNF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2UxODQwNTNmZjY0NjRmOTU4OGY2YmJhMWI2YjhkOTYyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2IyMTJlNzUzZjQ1MjRkMzhhNjQ0ZjQwMmQ1YzE4OWZmID0gJCgnPGRpdiBpZD0iaHRtbF9iMjEyZTc1M2Y0NTI0ZDM4YTY0NGY0MDJkNWMxODlmZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+LCBEb3dudG93biBUb3JvbnRvKENOIFRvd2VyIC8gS2luZyBhbmQgU3BhZGluYSAvIFJhaWx3YXkgTGFuZHMgLyBIYXJib3VyZnJvbnQgV2VzdCAvIEJhdGh1cnN0IFF1YXkgLyBTb3V0aCBOaWFnYXJhIC8gSXNsYW5kIGFpcnBvcnQpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lMTg0MDUzZmY2NDY0Zjk1ODhmNmJiYTFiNmI4ZDk2Mi5zZXRDb250ZW50KGh0bWxfYjIxMmU3NTNmNDUyNGQzOGE2NDRmNDAyZDVjMTg5ZmYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTYxMDViYmRiZjk0NDc4ZWFlMTJkMWRmMDUwNDQ4MjEuYmluZFBvcHVwKHBvcHVwX2UxODQwNTNmZjY0NjRmOTU4OGY2YmJhMWI2YjhkOTYyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzVhZjk1OGY2NDg2OTRlZmJhYmJlM2ZkNzU2NDRiODhkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjA1NjQ2NiwtNzkuNTAxMzIwN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI1NTg1MmMwMjVkMDQxYzZhNGEzMDkwOWVmNzNkZDdiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRhNjg3MDYyM2MwMjQ2ZmZhZWQ4NTAxZjU3NDY0M2U4ID0gJCgnPGRpdiBpZD0iaHRtbF80YTY4NzA2MjNjMDI0NmZmYWVkODUwMWY1NzQ2NDNlOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+LCBFdG9iaWNva2UoTmV3IFRvcm9udG8gLyBNaW1pY28gU291dGggLyBIdW1iZXIgQmF5IFNob3Jlcyk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI1NTg1MmMwMjVkMDQxYzZhNGEzMDkwOWVmNzNkZDdiLnNldENvbnRlbnQoaHRtbF80YTY4NzA2MjNjMDI0NmZmYWVkODUwMWY1NzQ2NDNlOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81YWY5NThmNjQ4Njk0ZWZiYWJiZTNmZDc1NjQ0Yjg4ZC5iaW5kUG9wdXAocG9wdXBfMjU1ODUyYzAyNWQwNDFjNmE0YTMwOTA5ZWY3M2RkN2IpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTM5N2YyYjMwODI4NDUwZWEyMzU3YWFlMGQyZmQ2ZmUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Mzk0MTY0LC03OS41ODg0MzY4OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzM5YmNlODQzMTkwNDQxMzNiODc0NjI4ZjljOTc5MzVjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2E4MzI3MGQ5ODg0ZDQwNDU4YzczYmViNjAyNTkxZDEwID0gJCgnPGRpdiBpZD0iaHRtbF9hODMyNzBkOTg4NGQ0MDQ1OGM3M2JlYjYwMjU5MWQxMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+LCBFdG9iaWNva2UoU291dGggU3RlZWxlcyAvIFNpbHZlcnN0b25lIC8gSHVtYmVyZ2F0ZSAvIEphbWVzdG93biAvIE1vdW50IE9saXZlIC8gQmVhdW1vbmQgSGVpZ2h0cyAvIFRoaXN0bGV0b3duIC8gQWxiaW9uIEdhcmRlbnMpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zOWJjZTg0MzE5MDQ0MTMzYjg3NDYyOGY5Yzk3OTM1Yy5zZXRDb250ZW50KGh0bWxfYTgzMjcwZDk4ODRkNDA0NThjNzNiZWI2MDI1OTFkMTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTM5N2YyYjMwODI4NDUwZWEyMzU3YWFlMGQyZmQ2ZmUuYmluZFBvcHVwKHBvcHVwXzM5YmNlODQzMTkwNDQxMzNiODc0NjI4ZjljOTc5MzVjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2FjNDllMDViMDBlMDQ4ODViZTZhYjU4ODcxNDRjNjE4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjc5NTYyNiwtNzkuMzc3NTI5NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJyZWQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2NjZjU3M2MyMzY4NTQ3Nzg5MGU2NzNhNTBmODgxODJlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzFmM2FjOTk3M2UyNTQ2NmZhZDI5ZjU2NDg3NTU1YTE3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzYxZGU1ZWQzZTljZDQ2OGViNDVhMDU0N2VhOGY1YTJjID0gJCgnPGRpdiBpZD0iaHRtbF82MWRlNWVkM2U5Y2Q0NjhlYjQ1YTA1NDdlYThmNWEyYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+LCBEb3dudG93biBUb3JvbnRvKFJvc2VkYWxlKTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMWYzYWM5OTczZTI1NDY2ZmFkMjlmNTY0ODc1NTVhMTcuc2V0Q29udGVudChodG1sXzYxZGU1ZWQzZTljZDQ2OGViNDVhMDU0N2VhOGY1YTJjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2FjNDllMDViMDBlMDQ4ODViZTZhYjU4ODcxNDRjNjE4LmJpbmRQb3B1cChwb3B1cF8xZjNhYzk5NzNlMjU0NjZmYWQyOWY1NjQ4NzU1NWExNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mMWIxZjg4MTYyZGM0MzMxYTNiMjE2MmU5ZWZkNDE5NSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYwMjQxMzcsLTc5LjU0MzQ4NDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMmMxOTU4MDdjN2M0Zjc2OTU3ODU3MDU2NWEzNmU4MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82MGI0ZDE5NmEyMDY0MTM1OTRiNjlkMmVkMDI2MjAxMyA9ICQoJzxkaXYgaWQ9Imh0bWxfNjBiNGQxOTZhMjA2NDEzNTk0YjY5ZDJlZDAyNjIwMTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPiwgRXRvYmljb2tlKEFsZGVyd29vZCAvIExvbmcgQnJhbmNoKTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDJjMTk1ODA3YzdjNGY3Njk1Nzg1NzA1NjVhMzZlODEuc2V0Q29udGVudChodG1sXzYwYjRkMTk2YTIwNjQxMzU5NGI2OWQyZWQwMjYyMDEzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2YxYjFmODgxNjJkYzQzMzFhM2IyMTYyZTllZmQ0MTk1LmJpbmRQb3B1cChwb3B1cF8wMmMxOTU4MDdjN2M0Zjc2OTU3ODU3MDU2NWEzNmU4MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lYTUwN2I3YTE4ZWI0MTI4ODBhZmZkYTE5ZGZhYmVmMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwNjc0ODMsLTc5LjU5NDA1NDM5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGY5OWQyZjAxMGIyNDdmMjkyNTQ2Y2NmOGQ0MDFhNDcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZGY2MGE4NDViMmRkNDE5NGIzNDkyZmRlMDYwMzU5NmMgPSAkKCc8ZGl2IGlkPSJodG1sX2RmNjBhODQ1YjJkZDQxOTRiMzQ5MmZkZTA2MDM1OTZjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIEV0b2JpY29rZU5vcnRod2VzdChDbGFpcnZpbGxlIC8gSHVtYmVyd29vZCAvIFdvb2RiaW5lIERvd25zIC8gV2VzdCBIdW1iZXIgLyBLaXBsaW5nIEhlaWdodHMgLyBSZXhkYWxlIC8gRWxtcyAvIFRhbmRyaWRnZSAvIE9sZCBSZXhkYWxlKTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZGY5OWQyZjAxMGIyNDdmMjkyNTQ2Y2NmOGQ0MDFhNDcuc2V0Q29udGVudChodG1sX2RmNjBhODQ1YjJkZDQxOTRiMzQ5MmZkZTA2MDM1OTZjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VhNTA3YjdhMThlYjQxMjg4MGFmZmRhMTlkZmFiZWYwLmJpbmRQb3B1cChwb3B1cF9kZjk5ZDJmMDEwYjI0N2YyOTI1NDZjY2Y4ZDQwMWE0Nyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yMjMwYjhkOGIwMTE0Y2E2YWRhOWI3NjcxMmJkYThkNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2NTg1OTksLTc5LjM4MzE1OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAicmVkIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9jY2Y1NzNjMjM2ODU0Nzc4OTBlNjczYTUwZjg4MTgyZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yMDc2NTM1ZTg2Y2E0OTU5Yjk0ZmM5YjcyNGU0MTE0OCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85ZjBhNTcyMjNlMWY0ZmNmYWUwNjAyOGFmNmM3YjhiYiA9ICQoJzxkaXYgaWQ9Imh0bWxfOWYwYTU3MjIzZTFmNGZjZmFlMDYwMjhhZjZjN2I4YmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPiwgRG93bnRvd24gVG9yb250byhDaHVyY2ggYW5kIFdlbGxlc2xleSk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzIwNzY1MzVlODZjYTQ5NTliOTRmYzliNzI0ZTQxMTQ4LnNldENvbnRlbnQoaHRtbF85ZjBhNTcyMjNlMWY0ZmNmYWUwNjAyOGFmNmM3YjhiYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yMjMwYjhkOGIwMTE0Y2E2YWRhOWI3NjcxMmJkYThkNC5iaW5kUG9wdXAocG9wdXBfMjA3NjUzNWU4NmNhNDk1OWI5NGZjOWI3MjRlNDExNDgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTA5OTc4ZWYzMDQ2NGM4NDliNDFiOTQwOWZhZmMyMDMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Mjg4NDA4LC03OS41MjA5OTk0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogInJlZCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfY2NmNTczYzIzNjg1NDc3ODkwZTY3M2E1MGY4ODE4MmUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTk2MTE0NTJkMzk5NDhmNTgyOGQ4YWVkM2FhZWZmOWMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjgwMjg1YThkZTY4NGRiYWFiYjg2MjdhNTgyOWNjYjAgPSAkKCc8ZGl2IGlkPSJodG1sXzY4MDI4NWE4ZGU2ODRkYmFhYmI4NjI3YTU4MjljY2IwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4sIEV0b2JpY29rZShNaW1pY28gTlcgLyBUaGUgUXVlZW5zd2F5IFdlc3QgLyBTb3V0aCBvZiBCbG9vciAvIEtpbmdzd2F5IFBhcmsgU291dGggV2VzdCAvIFJveWFsIFlvcmsgU291dGggV2VzdCk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2E5NjExNDUyZDM5OTQ4ZjU4MjhkOGFlZDNhYWVmZjljLnNldENvbnRlbnQoaHRtbF82ODAyODVhOGRlNjg0ZGJhYWJiODYyN2E1ODI5Y2NiMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81MDk5NzhlZjMwNDY0Yzg0OWI0MWI5NDA5ZmFmYzIwMy5iaW5kUG9wdXAocG9wdXBfYTk2MTE0NTJkMzk5NDhmNTgyOGQ4YWVkM2FhZWZmOWMpOwoKICAgICAgICAgICAgCiAgICAgICAgCjwvc2NyaXB0Pg==\" style=\"position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;\" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>", 
                        "text/plain": "<folium.folium.Map at 0x7f8ed8233390>"
                    }, 
                    "execution_count": 15, 
                    "metadata": {}
                }
            ], 
            "execution_count": 15
        }
    ], 
    "metadata": {
        "kernelspec": {
            "display_name": "Python 3.5", 
            "name": "python3", 
            "language": "python"
        }, 
        "language_info": {
            "mimetype": "text/x-python", 
            "nbconvert_exporter": "python", 
            "version": "3.5.5", 
            "name": "python", 
            "pygments_lexer": "ipython3", 
            "file_extension": ".py", 
            "codemirror_mode": {
                "version": 3, 
                "name": "ipython"
            }
        }
    }, 
    "nbformat": 4
}